<!DOCTYPE html>
<html>
<head> 
<title>HTML Tables, List, Forms</title>

<style>
    body {
        background-color: #ffeedd; /* soft peach background */
        font-family: Arial, sans-serif;
        text-align: center; /* center headings, tables, form */
    }

    table {
        margin-left: auto;
        margin-right: auto; /* center the table */
    }
</style>

<script>
function showOtherField() {
    let dept = document.getElementById("dept").value;

    if (dept === "OTHER") {
        document.getElementById("otherDeptRow").style.display = "table-row";
    } else {
        document.getElementById("otherDeptRow").style.display = "none";
        document.getElementById("otherDept").value = "";
    }
}
</script>
</head>

<body> 

<h1>Survey</h1>

<table border="1" id="surveyTable">
    <tr>
        <th>S.No</th>
        <th>Name</th>
        <th>Reg. No</th>
        <th>Dept</th>
    </tr>

    <tr> 
        <td>1.</td>
        <td>Balashanmugam K</td>
        <td>24BCE5362</td>
        <td>CSE Core</td>
    </tr>

    <tr>
        <td>2.</td>
        <td>Aakash</td>
        <td>23BME1412</td>
        <td>Mech</td>
    </tr>

    <tr>
        <td>3.</td>
        <td>Rohan</td>
        <td>22BEC1952</td>
        <td>ECE</td>
    </tr>
</table>

<form onsubmit="
    let name = document.getElementById('name').value;
    let regno = document.getElementById('regno').value;
    let dept = document.getElementById('dept').value;

    if (dept === 'OTHER') {
        dept = document.getElementById('otherDept').value;
    }

    if (name === '' || regno === '' || dept === '') {
        alert('Please fill all fields');
        return false;
    }

    let table = document.getElementById('surveyTable');
    let row = table.insertRow(-1);

    row.insertCell(0).innerHTML = (table.rows.length - 1) + '.';
    row.insertCell(1).innerHTML = name;
    row.insertCell(2).innerHTML = regno;
    row.insertCell(3).innerHTML = dept;

    document.getElementById('name').value = '';
    document.getElementById('regno').value = '';
    document.getElementById('dept').value = '';
    document.getElementById('otherDept').value = '';
    document.getElementById('otherDeptRow').style.display = 'none';

    return false;
">

<table>
    <tr>
        <td><label for="name">Enter your Name:</label></td>
        <td><input type="text" id="name" name="name" required></td>
    </tr>

    <tr>
        <td><label for="regno">Enter your Reg. No:</label></td>
        <td><input type="text" id="regno" name="regno" minlength="9" maxlength="9" required></td>
    </tr>

    <tr>
        <td><label for="dept">Choose your Dept:</label></td>
        <td>
            <select id="dept" name="dept" required onchange="showOtherField()">
                <option value="">-- Select --</option>
                <option value="CSE Core">CSE Core</option>
                <option value="ECE">ECE</option>
                <option value="EEE">EEE</option>
                <option value="Mech">Mech</option>
                <option value="CIVIL">CIVIL</option>
                <option value="IT">IT</option>
                <option value="OTHER">Other</option>
            </select>
        </td>
    </tr>

    <tr id="otherDeptRow" style="display:none;">
        <td><label for="otherDept">Please specify:</label></td>
        <td><input type="text" id="otherDept" name="otherDept"></td>
    </tr>

    <tr>
        <td></td>
        <td><button type="submit">Add to Table</button></td>
    </tr>
</table>

</form>

</body>
</html>
